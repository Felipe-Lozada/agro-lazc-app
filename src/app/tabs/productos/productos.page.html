<ion-header color="secondary" mode="ios">
  <ion-toolbar color="secondary" mode="ios" class="ion-text-center">
    <ion-title> Tienda </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="verCarrito()">
        <ion-icon name="cart-outline" slot="icon-only"></ion-icon><ion-badge color="tertiary" mode="ios" *ngIf="numberItems > 0">{{numberItems}}</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container">
    <ion-grid fixed>
      <ion-row>
        <ion-col size="12" class="barra-busqueda">
          <ion-searchbar color="secondary" mode="ios" animated (ionChange)="buscarProductos($event)"></ion-searchbar>
          <ion-button  mode="ios" class="ion-text-center" color="secondary" (click)="filtrarProductos()">
            <ion-icon slot="icon-only" name="filter"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-segment
            value="herbicidas" 
            scrollable
            [(ngModel)]="mostrarPor"
            (ionChange)="ordenarProductos($event)" 
            mode="md">
            <ion-segment-button color="secondary" mode="md" value="herbicidas">
              <ion-label color="secondary">Herbicidas</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="insecticidas">
              <ion-label color="secondary">Insecticidas</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="fungicidas">
              <ion-label color="secondary">Fungicidas</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="bactericidas">
              <ion-label color="secondary">Bactericidas</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="hormonales">
              <ion-label color="secondary">Hormonales</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="foliares">
              <ion-label color="secondary">Foliares</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="biologicos">
              <ion-label color="secondary">Biologicos</ion-label>
            </ion-segment-button>
            <ion-segment-button color="secondary" mode="md" value="coadyuvantes">
              <ion-label color="secondary">Coadyuvantes</ion-label>
            </ion-segment-button>
          </ion-segment>
        </ion-col>
        <ion-col size="12">
          <ion-list>
            <ion-item *ngFor="let producto of productosSinOrdenar" mode="ios" color="light">
              <div class="productWrapper">
                <div class="productDetail">
                  <ion-label color="dark">{{producto.marca}} - {{producto.presentacion}}</ion-label>
                  <ion-label color="tertiary"><b>{{producto.cartegoria}}</b></ion-label>
                  <ion-label color="tertiary"><b><small><i>{{producto.proovedor}}</i></small></b></ion-label>
                  <ion-label color="secondary">${{producto.precio}}</ion-label>
                </div>
                <div class="productOptions">
                  <ion-button expand="block" color="primary" mode="ios" (click)="agregarCarrito(producto)" >
                    <ion-icon slot="start" name="cart-outline"></ion-icon>
                    Agregar al carrito
                  </ion-button>
                  <ion-button expand="block" color="secondary" mode="ios" (click)="verDetalles(producto)">
                    <ion-icon slot="start" name="information-circle"></ion-icon>
                    Detalles
                  </ion-button>
                </div>
              </div>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
